(this.webpackJsonpwsgame=this.webpackJsonpwsgame||[]).push([[0],{11:function(e,t,n){e.exports=n.p+"static/media/isaak_sprite.17b2dfe5.png"},12:function(e,t,n){e.exports=n(25)},17:function(e,t,n){},18:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(2),o=n.n(a),c=(n(17),n(18),n(1)),p=n(4),s={WEST:[-357,-40],NORTH:[-243,-40],EAST:[-129,-40],SOUTH:[-15,-40]},u={direction:"",position:[0,0],sprite:{last_sprite_update_time:-1/0,X:s.SOUTH[0],Y:s.SOUTH[1]}},l=n(9),d=Object(c.combineReducers)({player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER":return Object(p.a)({},t.payload);default:return e}}}),f=Object(c.createStore)(d,Object(l.composeWithDevTools)()),g=n(11),m=n.n(g),y=n(3);function E(e,t){var n=f.getState().player,i=function(e){var t=f.getState().player.position;switch(f.getState().player.direction){case"WEST":return[t[0]-13*e/50,t[1]];case"EAST":return[t[0]+13*e/50,t[1]];case"NORTH":return[t[0],t[1]-13*e/50];case"SOUTH":return[t[0],t[1]+13*e/50];default:return[t[0],t[1]]}}(e-t);f.dispatch({type:"MOVE_PLAYER",payload:{direction:n.direction,position:i,sprite:v(e)}})}function v(e){var t=f.getState().player;return""!=t.direction&&e-t.sprite.last_sprite_update_time>200?(console.log(s+", "+t.direction+", "+e),{last_sprite_update_time:e,X:t.sprite.X<=s[t.direction][0]-57?s[t.direction][0]:t.sprite.X-40-17,Y:s[t.direction][1]}):t.sprite}var S=Object(y.b)((function(e){return Object(p.a)({},e.player)}))(function(e){function t(e){f.dispatch({type:"MOVE_PLAYER",payload:{direction:e,position:f.getState().player.position,sprite:!e&&f.getState().player.direction?{last_sprite_update_time:-1/0,X:s[f.getState().player.direction][0],Y:s[f.getState().player.direction][1]}:f.getState().player.sprite}})}return window.addEventListener("keydown",(function(e){!function(e){switch(e.preventDefault(),e.keyCode){case 37:return t("WEST");case 38:return t("NORTH");case 39:return t("EAST");case 40:return t("SOUTH");default:console.log(e.keyCode)}}(e)})),window.addEventListener("keyup",(function(e){!function(e){if(e.preventDefault(),[37,38,39,40].includes(e.keyCode))t("")}(e)})),e}((function(e){return r.a.createElement("div",{style:{position:"absolute",backgroundSize:"1500px 1500px",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(m.a,"')"),backgroundPosition:"".concat(e.sprite.X,"px ").concat(e.sprite.Y,"px"),width:"".concat(40,"px"),height:"".concat(40,"px")}})})));var h=function(e){return r.a.createElement("div",{style:{position:"relative",top:"0px",left:"0px",width:"800px",height:"600px",backgroundColor:"black"}})};function w(e){var t=(new Date).getTime();!function(e,t){E(e,t)}(t,e),window.requestAnimationFrame((function(){w(t)}))}window.requestAnimationFrame((function(){w(-1/0)}));var b=function(e){return Object(i.useEffect)((function(){})),r.a.createElement("div",{style:{position:"relative",width:"800px",height:"800px",margin:"20px auto"}},r.a.createElement(h,null),r.a.createElement(S,null))};var O=function(){return r.a.createElement("div",null,r.a.createElement(b,null))};o.a.render(r.a.createElement(y.a,{store:f}," ",r.a.createElement(O,null)," "),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.f7556cd5.chunk.js.map